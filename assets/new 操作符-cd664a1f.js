import{_ as y}from"./ValaxyMain.vue_vue_type_style_index_0_lang-8e683539.js";import{_ as F,c as i,w as o,o as D,a as s,d as a,b as l,r as t,e as A,p as C}from"./app-d437ec14.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-023ce13c.js";import"./YunCard.vue_vue_type_style_index_0_lang-d177144b.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-350ab47c.js";const z=JSON.parse('{"title":"new 操作符","description":"","frontmatter":{"title":"new 操作符","date":"2023-03-13T00:00:00.000Z","cover":"https://fastly.jsdelivr.net/gh/YunYouJun/cdn/img/bg/astronaut.webp","categories":["JavaScript","手写代码"],"tags":["JavaScript","new"]},"headers":[{"level":2,"title":"1.代码实现","slug":"_1-代码实现","link":"#_1-代码实现","children":[]},{"level":2,"title":"2.相关介绍","slug":"_2-相关介绍","link":"#_2-相关介绍","children":[]},{"level":2,"title":"3.应用场景","slug":"_3-应用场景","link":"#_3-应用场景","children":[]},{"level":2,"title":"4.参考文章","slug":"_4-参考文章","link":"#_4-参考文章","children":[]}],"relativePath":"pages/posts/JavaScript/手写代码/new 操作符.md","path":"/home/runner/work/flying-fish-blog/flying-fish-blog/pages/posts/JavaScript/手写代码/new 操作符.md","lastUpdated":1679288561000}'),r=JSON.parse('{"title":"new 操作符","description":"","frontmatter":{"title":"new 操作符","date":"2023-03-13T00:00:00.000Z","cover":"https://fastly.jsdelivr.net/gh/YunYouJun/cdn/img/bg/astronaut.webp","categories":["JavaScript","手写代码"],"tags":["JavaScript","new"]},"headers":[{"level":2,"title":"1.代码实现","slug":"_1-代码实现","link":"#_1-代码实现","children":[]},{"level":2,"title":"2.相关介绍","slug":"_2-相关介绍","link":"#_2-相关介绍","children":[]},{"level":2,"title":"3.应用场景","slug":"_3-应用场景","link":"#_3-应用场景","children":[]},{"level":2,"title":"4.参考文章","slug":"_4-参考文章","link":"#_4-参考文章","children":[]}],"relativePath":"pages/posts/JavaScript/手写代码/new 操作符.md","path":"/home/runner/work/flying-fish-blog/flying-fish-blog/pages/posts/JavaScript/手写代码/new 操作符.md","lastUpdated":1679288561000}'),d={name:"pages/posts/JavaScript/手写代码/new 操作符.md",data(){return{data:r,frontmatter:r.frontmatter}},setup(){C("pageData",r)}},u={class:"table-of-contents"},f={id:"_1-代码实现",tabindex:"-1"},h=s("p",null,[s("strong",null,"思路：")],-1),_=s("ul",null,[s("li",null,"创建一个新的空对象"),s("li",null,[l("设置原型，将对象的原型设置为函数的"),s("code",null,"prototype"),l("对象")]),s("li",null,"让函数的this指向这个对象，执行构造函数的代码（为这个新对象添加属性）"),s("li",null,"判断函数的返回值类型，如果是值类型，返回创建的对象，如果是引用类型，就返回这个类型的对象")],-1),m=s("p",null,[s("strong",null,"实现：")],-1),g=s("div",{class:"language-JavaScript"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"objectFactory"),s("span",{style:{color:"#89DDFF"}},"(){")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"  "),s("span",{style:{color:"#C792EA"}},"let"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"newObject"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"null")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"  "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// arguments参数数组调用arr的方法")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"  "),s("span",{style:{color:"#C792EA"}},"let"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"constructor"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#FFCB6B"}},"Array"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"prototype"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"shift"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"call"),s("span",{style:{color:"#F07178"}},"("),s("span",{style:{color:"#A6ACCD"}},"arguments"),s("span",{style:{color:"#F07178"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"  "),s("span",{style:{color:"#C792EA"}},"let"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"result"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"null")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"  "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// 判断参数是否是一个函数")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"  "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"if"),s("span",{style:{color:"#F07178"}},"("),s("span",{style:{color:"#89DDFF"}},"typeof"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"constructor"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"!=="),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"function"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#F07178"}},")"),s("span",{style:{color:"#89DDFF"}},"{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"    "),s("span",{style:{color:"#A6ACCD"}},"console"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"error"),s("span",{style:{color:"#F07178"}},"("),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"type error"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#F07178"}},")"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"    "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"return")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"  "),s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"  "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// 新建一个对象，对象的原型为构造函数的prototype对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"  "),s("span",{style:{color:"#A6ACCD"}},"newObject"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"Object"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"create"),s("span",{style:{color:"#F07178"}},"("),s("span",{style:{color:"#FFCB6B"}},"constructor"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"prototype"),s("span",{style:{color:"#F07178"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"  "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// 将this指向新建对象，并执行函数")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"  "),s("span",{style:{color:"#A6ACCD"}},"result"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"constructor"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"apply"),s("span",{style:{color:"#F07178"}},"("),s("span",{style:{color:"#A6ACCD"}},"newObject"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}},"arguments"),s("span",{style:{color:"#F07178"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"  "),s("span",{style:{color:"#676E95","font-style":"italic"}},"// 判断返回对象")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"  "),s("span",{style:{color:"#C792EA"}},"let"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"flag"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"result"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"&&"),s("span",{style:{color:"#F07178"}}," ("),s("span",{style:{color:"#89DDFF"}},"typeof"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"result"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"==="),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"object"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"||"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"typeof"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"result"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"==="),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"function"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#F07178"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"  "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"return"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"flag"),s("span",{style:{color:"#89DDFF"}},"?"),s("span",{style:{color:"#A6ACCD"}},"result"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}},"newObject")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"})])])],-1),v=s("p",null,[s("strong",null,"测试：")],-1),b=s("div",{class:"language-JavaScript"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"Person"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"name"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"age"),s("span",{style:{color:"#89DDFF"}},"){")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"  "),s("span",{style:{color:"#89DDFF"}},"this."),s("span",{style:{color:"#A6ACCD"}},"name"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"name")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"  "),s("span",{style:{color:"#89DDFF"}},"this."),s("span",{style:{color:"#A6ACCD"}},"age"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#A6ACCD"}},"age")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FFCB6B"}},"Person"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"prototype"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"sayName"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#C792EA"}},"function"),s("span",{style:{color:"#89DDFF"}},"(){")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F07178"}},"  "),s("span",{style:{color:"#A6ACCD"}},"console"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"log"),s("span",{style:{color:"#F07178"}},"("),s("span",{style:{color:"#89DDFF"}},"this."),s("span",{style:{color:"#A6ACCD"}},"name"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"this."),s("span",{style:{color:"#A6ACCD"}},"age"),s("span",{style:{color:"#F07178"}},")"),s("span",{style:{color:"#89DDFF"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"}")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"let"),s("span",{style:{color:"#A6ACCD"}}," people "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"objectFactory"),s("span",{style:{color:"#A6ACCD"}},"(Person"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"tom"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#F78C6C"}},"20"),s("span",{style:{color:"#A6ACCD"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"people"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"sayName"),s("span",{style:{color:"#A6ACCD"}},"()  "),s("span",{style:{color:"#676E95","font-style":"italic"}},"//tom 20")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"})])])],-1),w={id:"_2-相关介绍",tabindex:"-1"},E={id:"_3-应用场景",tabindex:"-1"},k={id:"_4-参考文章",tabindex:"-1"};function J(e,$,S,j,c,O){const n=A,p=y;return D(),i(p,{frontmatter:c.frontmatter,data:c.data},{"main-content-md":o(()=>[s("nav",u,[s("ul",null,[s("li",null,[a(n,{href:"#_1-代码实现"},{default:o(()=>[l("1.代码实现")]),_:1})]),s("li",null,[a(n,{href:"#_2-相关介绍"},{default:o(()=>[l("2.相关介绍")]),_:1})]),s("li",null,[a(n,{href:"#_3-应用场景"},{default:o(()=>[l("3.应用场景")]),_:1})]),s("li",null,[a(n,{href:"#_4-参考文章"},{default:o(()=>[l("4.参考文章")]),_:1})])])]),s("h2",f,[l("1.代码实现 "),a(n,{class:"header-anchor",href:"#_1-代码实现","aria-hidden":"true"},{default:o(()=>[l("#")]),_:1})]),h,_,m,g,v,b,s("h2",w,[l("2.相关介绍 "),a(n,{class:"header-anchor",href:"#_2-相关介绍","aria-hidden":"true"},{default:o(()=>[l("#")]),_:1})]),s("h2",E,[l("3.应用场景 "),a(n,{class:"header-anchor",href:"#_3-应用场景","aria-hidden":"true"},{default:o(()=>[l("#")]),_:1})]),s("h2",k,[l("4.参考文章 "),a(n,{class:"header-anchor",href:"#_4-参考文章","aria-hidden":"true"},{default:o(()=>[l("#")]),_:1})]),s("ul",null,[s("li",null,[a(n,{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof",target:"_blank",rel:"noreferrer"},{default:o(()=>[l("MDN")]),_:1})]),s("li",null,[a(n,{href:"https://www.yuque.com/cuggz/interview/pkg93q#LOOJA",target:"_blank",rel:"noreferrer"},{default:o(()=>[l("前端面试题汇总")]),_:1})])])]),"main-header":o(()=>[t(e.$slots,"main-header")]),"main-header-after":o(()=>[t(e.$slots,"main-header-after")]),"main-nav":o(()=>[t(e.$slots,"main-nav")]),"main-content":o(()=>[t(e.$slots,"main-content")]),"main-content-after":o(()=>[t(e.$slots,"main-content-after")]),"main-nav-before":o(()=>[t(e.$slots,"main-nav-before")]),"main-nav-after":o(()=>[t(e.$slots,"main-nav-after")]),comment:o(()=>[t(e.$slots,"comment")]),footer:o(()=>[t(e.$slots,"footer")]),aside:o(()=>[t(e.$slots,"aside")]),"aside-custom":o(()=>[t(e.$slots,"aside-custom")]),default:o(()=>[t(e.$slots,"default")]),_:3},8,["frontmatter","data"])}const T=F(d,[["render",J]]);export{z as __pageData,T as default};
